<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Контакты</title>
    <link rel="stylesheet" href="../style/styles.css">
</head>

<body>
<div class="page">

    <!-- Шапка -->
    <header class="header">
        <h1 class="header__title">Контакты</h1>
    </header>

    <!-- Навигация -->
    <nav class="nav">
        <ul class="nav__list">
            <li class="nav__item">
                <a class="nav__link" href="../index.html">Главная</a>
            </li>
            <li class="nav__item">
                <a class="nav__link" href="news.html">Новости</a>
            </li>
            <li class="nav__item">
                <a class="nav__link" href="practices.html">Практики</a>
            </li>
            <li class="nav__item">
                <a class="nav__link" href="goods.html">Товары</a>
            </li>
            <li class="nav__item nav__item--active">
                <a class="nav__link" href="contacts.html">Контакты</a>
            </li>
        </ul>
        <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
    <span id="themeLabel">Тема: светлая</span>
</button>

    </nav>

    <!-- Основной контент -->
    <main class="main">

        <!-- Блок контактов -->
        <section class="contacts">
            <h2 class="contacts__title">Наши контакты</h2>
            <p class="contacts__subtitle">Свяжитесь с нами удобным для вас способом</p>

            <div class="contacts__grid">
                <article class="contacts-card">
                    <h3 class="contacts-card__title">Электронная почта</h3>
                    <p class="contacts-card__value">example@mail.ru</p>
                </article>

                <article class="contacts-card">
                    <h3 class="contacts-card__title">Адрес</h3>
                    <p class="contacts-card__value">г. Москва, ул. Примерная, д. 1</p>
                </article>

                <article class="contacts-card">
                    <h3 class="contacts-card__title">Телефон</h3>
                    <p class="contacts-card__value">+7 (900) 123-45-67</p>
                </article>

                <article class="contacts-card">
                    <h3 class="contacts-card__title">Время работы</h3>
                    <p class="contacts-card__value">Пн–Пт: 9:00–18:00</p>
                </article>
            </div>

            <button class="contacts__button" onclick="contactModal.showModal()">
                Связаться с нами
            </button>
        </section>

    </main>

    <!-- Подвал -->
    <footer class="footer">
        <p class="footer__text">© 2024 Контакты</p>
    </footer>

    <!-- Модальное окно с формой -->
    <dialog id="contactModal" class="modal">
        <div class="modal__header">
            <h2 class="modal__title">Форма обратной связи</h2>
            <button class="modal__close" type="button" aria-label="Закрыть"
                    onclick="contactModal.close()">✕</button>
        </div>

        <form id="feedbackForm" class="modal__body" method="dialog">
            <div class="modal__field">
                <label class="modal__label" for="name">Имя<span class="modal__required">*</span></label>
                <input class="modal__input" type="text" id="name" name="name"
                       placeholder="Ваше имя" required minlength="2">
            </div>

            <div class="modal__field">
                <label class="modal__label" for="email">Электронная почта<span class="modal__required">*</span></label>
                <input class="modal__input" type="email" id="email" name="email"
                       placeholder="you@example.com" required>
            </div>

            <div class="modal__field">
                <label class="modal__label" for="phone">Телефон</label>
                <input class="modal__input" type="tel" id="phone" name="phone"
                       placeholder="+7 (900) 123-45-67">
            </div>

            <div class="modal__field">
                <label class="modal__label" for="topic">Тема обращения<span class="modal__required">*</span></label>
                <select class="modal__input" id="topic" name="topic" required>
                    <option value="">Выберите тему</option>
                    <option value="support">Техническая поддержка</option>
                    <option value="order">Вопрос по заказу</option>
                    <option value="cooperation">Сотрудничество</option>
                    <option value="other">Другое</option>
                </select>
            </div>

            <div class="modal__field">
                <label class="modal__label" for="message">Сообщение<span class="modal__required">*</span></label>
                <textarea class="modal__input modal__input--textarea" id="message" name="message"
                          placeholder="Кратко опишите вопрос" required></textarea>
            </div>

            <div class="modal__field modal__field--checkbox">
                <label class="modal__checkbox-label">
                    <input type="checkbox" class="modal__checkbox" required>
                    <span>Я согласен(на) на обработку персональных данных</span>
                </label>
            </div>

            <div class="modal__footer">
                <button class="modal__btn modal__btn--secondary" type="button"
                        onclick="contactModal.close()">
                    Отмена
                </button>
                <button class="modal__btn modal__btn--primary" type="button"
                        onclick="submitForm()">
                    Отправить
                </button>
            </div>
        </form>
    </dialog>

</div>

<script>
    // Отправка формы
    function submitForm() {
        const form = document.getElementById('feedbackForm');

        // стандартная HTML5-валидация
        if (!form.checkValidity()) {
            form.reportValidity();
            return;
        }

        const formData = new FormData(form);
        const data = {
            name: formData.get('name'),
            email: formData.get('email'),
            phone: formData.get('phone'),
            topic: formData.get('topic'),
            message: formData.get('message')
        };

        console.log('Данные формы:', data);

        alert('Спасибо! Ваше сообщение отправлено.');
        contactModal.close();
        form.reset();
    }

    // Закрытие по клику на фон диалога
    document.getElementById('contactModal').addEventListener('click', function (event) {
        if (event.target === this) {
            this.close();
        }
    });

    // Блокируем Enter как submit вне textarea
    document.getElementById('feedbackForm').addEventListener('keypress', function (event) {
        if (event.key === 'Enter' && event.target.tagName.toLowerCase() !== 'textarea') {
            event.preventDefault();
        }
    });
</script>
<script>
function applyTheme(saved) {
    const body = document.body;
    const label = document.getElementById("themeLabel");

    if (saved === "dark") {
        body.classList.add("theme-dark");
        label.textContent = "Тема: тёмная";
    } else {
        body.classList.remove("theme-dark");
        label.textContent = "Тема: светлая";
    }
}

function toggleTheme() {
    const body = document.body;
    const label = document.getElementById("themeLabel");

    const isDark = body.classList.toggle("theme-dark");
    const newTheme = isDark ? "dark" : "light";

    localStorage.setItem("theme", newTheme);

    label.textContent = isDark ? "Тема: тёмная" : "Тема: светлая";
}

document.addEventListener("DOMContentLoaded", () => {
    const savedTheme = localStorage.getItem("theme") || "light";
    applyTheme(savedTheme);
});
</script>
</body>
</html>


